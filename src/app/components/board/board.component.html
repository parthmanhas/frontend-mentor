<div *ngIf="!currentBoard && !minOneBoardAvailable" class="empty-board"
    [class.empty-board-sidebar-open]="!sidebarVisible">
    <p class="pb-1 semi-bold grey-medium-50-text">Create a New Board to get started.</p>
    <button class="btn btn-primary" (click)="openCreateBoardModal()">+ Add New Board</button>
</div>

<div *ngIf="!currentBoard && minOneBoardAvailable" class="empty-board"
    [class.empty-board-sidebar-open]="!sidebarVisible">
    <p class="pb-1 semi-bold grey-medium-50-text">No board selected. Select a board or create a new board</p>
    <button (click)="openCreateBoardModal()" class="btn btn-primary">+ Add New Board</button>
</div>

<div *ngIf="currentBoard && !minOneColumnAvailable" class="empty-board"
    [class.empty-board-sidebar-open]="!sidebarVisible">
    <p class="pb-1 semi-bold grey-medium-50-text">This board is empty. Create a new column to get started.</p>
    <button class="btn btn-primary" (click)="openAddNewColumnModal()">+ Add New Column</button>
</div>
<!-- <div class="lane mr-2">
    <div class="p-1">
        <p class="mb-1 grey-medium-50-text bold"><span class="oval blue mr-1"></span>TODO (4)</p>
    </div>
    <div class="task p-2">
        <p class="task-heading bold">Build UI for onboarding flow</p>
        <p class="task-subheading grey-medium-50-text bold">0 of 3 subtasks</p>
    </div>
</div> -->
<div *ngFor="let column of currentBoard?.columns" class="column lane mr-2" droppable="true" (dragover)="onDragOver($event)" (drop)="onDrop($event, column.id)">
    <div class="column-heading p-1">
        <p class="mb-1 grey-medium-50-text bold"><span class="oval blue mr-1"></span>{{column.name}} ({{column.tasks?.length ?? 0}})</p>
        <div class="column-edit-options">
        </div>
    </div>
    <div *ngFor="let task of column.tasks" draggable="true" (dragstart)="onDragStart($event, task)" class="task p-2 mb-1" (click)="openViewTaskModal(task)" (keydown.enter)="openViewTaskModal(task)" tabindex="0">
        <p class="task-heading bold">{{task.title}}</p>
        <p *ngIf="(task?.subtasks?.length ?? 0) > 0" class="task-subheading grey-medium-50-text bold">
            {{ getCompletedSubtasksCount(task) }} of {{ task?.subtasks?.length }} subtasks done
        </p>
        <p *ngIf="!task?.subtasks" class="task-subheading grey-medium-50-text bold">No subtasks</p>
    </div>
</div>
<div *ngIf="currentBoard && minOneColumnAvailable" (click)="openAddNewColumnModal()" (keydown.enter)="openAddNewColumnModal()" tabindex="0" class="lane mr-2">
    <div class="p-1">
        <p class="mb-1 grey-light-text bold"></p>
    </div>
    <div class="d-flex justify-center h-100 align-center add-new-column">
        <h2 class="grey-medium-50-text">+ New Column</h2>
    </div>
</div>